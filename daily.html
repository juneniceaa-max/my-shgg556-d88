<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>è¿åŠ¿æ¨æ¼” | ç»´åº¦åˆ†æ</title>
    <style>
        body { background: #090a0f; color: white; font-family: sans-serif; display: flex; justify-content: center; padding: 20px; }
        .container { width: 100%; max-width: 450px; }
        .nav-back { color: #888; text-decoration: none; font-size: 14px; margin-bottom: 20px; display: block; }
        .tab-group { display: flex; background: rgba(255,255,255,0.1); border-radius: 12px; margin-bottom: 20px; }
        .tab { flex: 1; text-align: center; padding: 12px; cursor: pointer; transition: 0.3s; }
        .tab.active { background: #7d5fff; border-radius: 12px; }
        .dimension-card { background: rgba(255,255,255,0.05); padding: 20px; border-radius: 20px; border-left: 4px solid #7d5fff; margin-bottom: 15px; }
        .dim-title { font-size: 14px; color: #a29bfe; margin-bottom: 8px; }
        .summary-box { background: linear-gradient(135deg, rgba(125,95,255,0.2), rgba(85,239,196,0.1)); padding: 20px; border-radius: 20px; line-height: 1.7; }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="nav-back">â† è¿”å›æ˜Ÿç›˜è¾“å…¥</a>
        <h1>å®æ—¶è¿åŠ¿æ¨æ¼”</h1>
        
        <div class="tab-group">
            <div id="todayBtn" class="tab active" onclick="switchDay('today')">ä»Šæ—¥è¿åŠ¿</div>
            <div id="tomorrowBtn" class="tab" onclick="switchDay('tomorrow')">æ˜æ—¥è¿åŠ¿</div>
        </div>

        <div id="reportArea">
            <div class="dimension-card">
                <div class="dim-title">â˜€ï¸ å¤ªé˜³ç»´åº¦ (æ ¸å¿ƒè¡ŒåŠ¨åŠ›)</div>
                <div id="sunReport">è½½å…¥ä¸­...</div>
            </div>
            <div class="dimension-card" style="border-left-color: #55efc4;">
                <div class="dim-title">ğŸŒ™ æœˆäº®ç»´åº¦ (å†…åœ¨æƒ…ç»ªæµ)</div>
                <div id="moonReport">è½½å…¥ä¸­...</div>
            </div>
            <div class="dimension-card" style="border-left-color: #74b9ff;">
                <div class="dim-title">â¬†ï¸ ä¸Šå‡ç»´åº¦ (ç¯å¢ƒæœºé‡é¡¹)</div>
                <div id="ascReport">è½½å…¥ä¸­...</div>
            </div>
            <div class="summary-box">
                <b style="color:#55efc4">ğŸ“œ ç»¼åˆæ¨æ¼”æ€»ç»“ï¼š</b><br>
                <span id="summaryText">è½½å…¥ä¸­...</span>
            </div>
        </div>
    </div>

    <script>
        // è·å–é¦–é¡µå­˜å…¥çš„æ•°æ®
        const userAstro = JSON.parse(localStorage.getItem('userAstro'));
        
        if (!userAstro) {
            document.body.innerHTML = "<h2>è¯·å…ˆè¿”å›é¦–é¡µè¾“å…¥å‡ºç”Ÿä¿¡æ¯</h2><a href='index.html'>ç‚¹å‡»è¿”å›</a>";
        }

        function switchDay(day) {
            document.getElementById('todayBtn').classList.toggle('active', day === 'today');
            document.getElementById('tomorrowBtn').classList.toggle('active', day === 'tomorrow');
            generateReport(day);
        }

        function generateReport(day) {
            const isT = day === 'tomorrow';
            
            // æ¨¡æ‹Ÿé€»è¾‘ï¼šåŸºäºæ˜Ÿåº§å’Œæ—¥æœŸç”Ÿæˆä¸¥è°¨æ–‡æœ¬
            const sunTxt = `${userAstro.sun}åº§åœ¨${day === 'today' ? 'ä»Šæ—¥' : 'æ˜æ—¥'}çš„èƒ½é‡åœºä¸­ï¼Œå¤ªé˜³å¤„äºä¸»å¯¼åœ°ä½ï¼Œä½ çš„${isT ? 'é•¿è¿œè®¡åˆ’å°†è·å¾—å¯å‘' : 'æ‰§è¡ŒåŠ›æ­£å¤„äºå·…å³°'}ã€‚`;
            const moonTxt = `å—${userAstro.moon}åº§å½±å“ï¼Œä½ çš„æƒ…ç»ª${isT ? 'ä¼šè¶‹äºå¹³ç¨³' : 'è¾ƒä¸ºæ•æ„Ÿ'}ï¼Œå»ºè®®${isT ? 'å¤šä¸äººäº¤æµ' : 'ç‹¬å¤„æ€è€ƒ'}ã€‚`;
            const ascTxt = `ä¸Šå‡${userAstro.asc}åº§ä¸ºä½ å¸¦æ¥äº†${isT ? 'ç¤¾äº¤åœˆçš„å˜åŠ¨' : 'èŒåœºçš„æ–°æœºé‡'}ã€‚`;
            
            const summary = `ç»¼åˆæ¥çœ‹ï¼Œ${userAstro.sun}åº§çš„ä½ ä»Šå¤©éœ€è¦åˆ©ç”¨ä¸Šå‡${userAstro.asc}åº§çš„ç¤¾äº¤ä¼˜åŠ¿ï¼Œå»å¹³å¤æœˆäº®${userAstro.moon}åº§å¯èƒ½å¸¦æ¥çš„å°æƒ…ç»ªã€‚`;

            document.getElementById('sunReport').innerText = sunTxt;
            document.getElementById('moonReport').innerText = moonTxt;
            document.getElementById('ascReport').innerText = ascTxt;
            document.getElementById('summaryText').innerText = summary;
        }

        // åˆå§‹åŒ–åŠ è½½
        generateReport('today');
    </script>
</body>
</html>