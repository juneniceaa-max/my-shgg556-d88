<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å æ˜Ÿè¿åŠ¿åŠ©æ‰‹</title>
    <style>
        body { font-family: sans-serif; padding: 20px; line-height: 1.6; background-color: #f4f4f9; color: #333; }
        .card { border: 1px solid #ddd; padding: 20px; border-radius: 12px; margin-top: 20px; background: white; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        input, button { padding: 10px; margin: 5px 0; width: 100%; box-sizing: border-box; border-radius: 5px; border: 1px solid #ccc; }
        button { background-color: #6200ee; color: white; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background-color: #3700b3; }
        h1 { color: #6200ee; text-align: center; }
    </style>
</head>
<body>
    <h1>ğŸŒŸ ä¸ªäººæ˜Ÿç›˜æ¨ç®—</h1>
    <div class="card">
        <label>å‡ºç”Ÿæ—¥æœŸæ—¶é—´ï¼š</label>
        <input type="datetime-local" id="birthTime" value="1995-01-01T12:00">
        <label>å‡ºç”ŸåŸå¸‚ç»åº¦ï¼ˆåŒ—äº¬116.4ï¼‰ï¼š</label>
        <input type="number" id="lng" value="116.4">
        <button onclick="calculateAstro()">ç«‹å³æ¨ç®—è¿åŠ¿</button>
    </div>

    <div id="result" class="card" style="display:none;">
        <h3>ä½ çš„æ ¸å¿ƒèƒ½é‡ï¼š</h3>
        <p id="sunSign"></p>
        <p id="ascSign"></p>
        <hr>
        <h4>âœ¨ ä»Šæ—¥è¿åŠ¿é¢„æµ‹ï¼š</h4>
        <p id="dailyFortune"></p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/astrology-js/dist/astrology.min.js"></script>
    <script>
        function calculateAstro() {
            const timeValue = document.getElementById('birthTime').value;
            const lng = parseFloat(document.getElementById('lng').value);
            const date = new Date(timeValue);
            const signs = ["ç™½ç¾Š", "é‡‘ç‰›", "åŒå­", "å·¨èŸ¹", "ç‹®å­", "å¤„å¥³", "å¤©ç§¤", "å¤©è", "å°„æ‰‹", "æ‘©ç¾¯", "æ°´ç“¶", "åŒé±¼"];
            
            // åŸºç¡€å¤ªé˜³æ˜Ÿåº§è®¡ç®—
            const dayOfYear = (date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24;
            const sunPos = (dayOfYear + 284) % 365 / 365 * 360;
            
            // åŸºç¡€ä¸Šå‡æ˜Ÿåº§è®¡ç®—
            const hours = date.getHours() + date.getMinutes() / 60;
            const ascPos = (sunPos + (hours - 12) * 15 + (lng - 120)) % 360;

            document.getElementById('result').style.display = 'block';
            document.getElementById('sunSign').innerHTML = `â˜€ï¸ <b>å¤ªé˜³ï¼š</b> ${signs[Math.floor(sunPos / 30)]}åº§`;
            document.getElementById('ascSign').innerHTML = `â¬†ï¸ <b>ä¸Šå‡ï¼š</b> ${signs[Math.floor((ascPos + 360) % 360 / 30)]}åº§`;
            
            const fortunes = ["å®œå†™ä»£ç ï¼Œè¯¸äº‹çš†å®œ", "ä¿æŒè€å¿ƒï¼Œå¥½è¿åœ¨åå¤´", "çµæ„Ÿè¿¸å‘ï¼Œé€‚åˆåˆ›ä½œ", "æ³¨æ„ä¼‘æ¯ï¼Œè¡¥å……èƒ½é‡"];
            document.getElementById('dailyFortune').innerText = fortunes[date.getDay() % 4];
        }
    </script>
</body>
</html>