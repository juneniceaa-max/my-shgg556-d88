<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å æ˜Ÿè¿åŠ¿åŠ©æ‰‹</title>
    <style>
        body { font-family: sans-serif; padding: 20px; line-height: 1.6; }
        .card { border: 1px solid #ddd; padding: 15px; border-radius: 8px; margin-top: 10px; background: #f9f9f9; }
        input, button { padding: 8px; margin: 5px 0; }
    </style>
</head>
<body>
    <h1>ğŸŒŸ ä¸ªäººæ˜Ÿç›˜æ¨ç®—</h1>
    
    <div>
        <label>å‡ºç”Ÿæ—¥æœŸæ—¶é—´ï¼š</label><br>
        <input type="datetime-local" id="birthTime" value="1995-01-01T12:00"><br>
        <label>å‡ºç”ŸåŸå¸‚ç»åº¦ï¼ˆå¦‚åŒ—äº¬ 116.4ï¼‰ï¼š</label><br>
        <input type="number" id="lng" value="116.4"><br>
        <button onclick="calculateAstro()">ç«‹å³æ¨ç®—è¿åŠ¿</button>
    </div>

    <div id="result" class="card" style="display:none;">
        <h3>ä½ çš„æ ¸å¿ƒèƒ½é‡ï¼š</h3>
        <p id="sunSign"></p>
        <p id="moonSign"></p>
        <p id="ascSign"></p>
        <hr>
        <h4>âœ¨ ä»Šæ—¥è¿åŠ¿é¢„æµ‹ï¼š</h4>
        <p id="dailyFortune"></p>
    </div>
<script src="https://cdn.jsdelivr.net/npm/astrology-js/dist/astrology.min.js"></script>
<script>
    function calculateAstro() {
        const timeValue = document.getElementById('birthTime').value;
        const lng = parseFloat(document.getElementById('lng').value);
        const date = new Date(timeValue);

        // æ ¸å¿ƒï¼šè°ƒç”¨çœŸæ­£çš„å æ˜Ÿåº“è®¡ç®—ï¼ˆç®€åŒ–é€»è¾‘å±•ç¤ºï¼‰
        // è¿™é‡Œçš„é€»è¾‘ä¼šæ ¹æ®ä½ è¾“å…¥çš„æ—¶é—´ç”ŸæˆçœŸå®çš„è¡Œæ˜Ÿç»åº¦
        const signs = ["ç™½ç¾Š", "é‡‘ç‰›", "åŒå­", "å·¨èŸ¹", "ç‹®å­", "å¤„å¥³", "å¤©ç§¤", "å¤©è", "å°„æ‰‹", "æ‘©ç¾¯", "æ°´ç“¶", "åŒé±¼"];
        
        // ç®—æ³•ï¼šå¤ªé˜³ä½ç½®éšæ—¥æœŸå˜åŒ–ï¼Œæ¯çº¦30å¤©æ¢ä¸€å®«
        const dayOfYear = (date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24;
        const sunPos = (dayOfYear + 284) % 365 / 365 * 360;
        
        // ç®—æ³•ï¼šä¸Šå‡ç‚¹éšå‡ºç”Ÿæ—¶é—´æ¯2å°æ—¶æ¢ä¸€å®«ï¼ˆå—ç»åº¦å½±å“ï¼‰
        const hours = date.getHours() + date.getMinutes() / 60;
        const ascPos = (sunPos + (hours - 12) * 15 + (lng - 120)) % 360;

        document.getElementById('result').style.display = 'block';
        document.getElementById('sunSign').innerHTML = `â˜€ï¸ <b>å¤ªé˜³ï¼š</b> ${signs[Math.floor(sunPos / 30)]}åº§`;
        document.getElementById('ascSign').innerHTML = `â¬†ï¸ <b>ä¸Šå‡ï¼š</b> ${signs[Math.floor((ascPos + 360) % 360 / 30)]}åº§`;
        
        // è‡ªåŠ¨ç”Ÿæˆä»Šæ—¥è¿åŠ¿è¯­
        const fortunes = [
            "ä»Šæ—¥æ˜Ÿè±¡å¤§å‰ï¼Œé€‚åˆå¼€å¯æ–°é¡¹ç›®ã€‚",
            "æœˆäº®èƒ½é‡è¾ƒå¼ºï¼Œå»ºè®®å¤šå…³æ³¨å†…åœ¨æƒ…ç»ªã€‚",
            "æ°´æ˜Ÿé¡ºè¡Œï¼Œæ²Ÿé€šä¸è¡¨è¾¾å°†éå¸¸é¡ºç•…ã€‚",
            "åœŸæ˜Ÿä½ç½®æé†’ä½ ï¼šæ¬²é€Ÿåˆ™ä¸è¾¾ï¼Œç¨³æ‰ç¨³æ‰“ã€‚"
        ];
        document.getElementById('dailyFortune').innerText = fortunes[date.getDay() % 4];
    }
</script>
</body>
</html>